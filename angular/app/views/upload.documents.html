<div class="content">
    <div class="page-header has-subnav">
        <div class="container">
            <h1>Upload Document</h1>
        </div>
    </div>

    <!-- Builder info -->
    <div class="alert alert-info" style="margin-bottom: 0;">
        <div class="container">
            <i class="fa fa-info-circle"></i> Upload new articles.
        </div>
    </div>
    <!-- /Builder info -->

    <!-- <div class="l-frame l-frame-tight">
        <div class="container">
            <label class="control-label">Which project do the photos depict?</label>
            <div class="row">
                <div class="col-sm-10">
                    <div ui-select2="structureSelect" ng-model="selectedProject" class="form-control">
                    </div>
                </div>
                <div class="col-sm-2" style="border-left: 1px solid #ccc; padding-left: 16px;">
                    <button class="btn btn-default form-control" ui-sref="structure.summary.edit({})"><i class="fa fa-plus"></i> Add Project</button>
                </div>
            </div>
        </div>
    </div> -->

    <div class="l-frame l-frame-highlight">
        <div class="container">
            <form action="">
                <div class="form-group upload">
                    <div ng-file-drop="onFileSelect($files)" ng-file-drag-over-class="upload-dropzone-dragover" ng-show="dropSupported" class="upload-dropzone">
                        <i class="fa fa-cloud-upload"></i> Drag and Drop files here
                    </div>

                    <div ng-file-drop-available="dropSupported=true" ng-show="!dropSupported">HTML5 Drop File is not supported!</div>

                    <div class="upload-choose">
                        <!-- <input type="text" ng-model="myModelObj" class="form-control"> -->
                        <!-- <input type="file" ng-file-select="onFileSelect($files)" class="form-control"> -->
                        <div class="upload-choose-label">Or select files</div>
                        <input type="file" ng-file-select="onFileSelect($files)" multiple>
                    </div>

                </div>
                <!-- <button class="btn btn-default" ng-click="upload.abort()">Cancel Upload</button> -->
            </form>
        </div>
    </div>
    <div class="l-frame" id="uploads">
        <div class="container">
            <div class="panel panel-default" ng-repeat="expression in expressions">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-sm-2">

                            <div class="square square-icon square-article" ng-show="expression[Uris.RDF_TYPE]==Uris.QA_ARTICLE_TYPE">
                                <div class="square-content">
                                    <div class="center">
                                        <div class="center-content">
                                            <i class="fa fa-book"></i> 
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="square square-icon square-interview" ng-show="expression[Uris.RDF_TYPE]==Uris.QA_INTERVIEW_TYPE">
                                <div class="square-content">
                                    <div class="center">
                                        <div class="center-content">
                                            <i class="fa fa-microphone"></i> 
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>
                        <div class="col-sm-10">
                            <!-- Published finished -->
                            <div ng-show="expression.uri">
                                <p>Published.</p>
                                <pre>
                                    {{ expression | json }}
                                </pre>
                                <a ui-sref="article({ articleId: expression.encodedUri })" class="btn btn-default">Go to <strong>{{ expression[Uris.DCT_TITLE] }}</strong></a>
                            </div>

                            <!-- Not finished -->
                            <div ng-show="!expression.uri">
                                <div class="row">
                                    <div class="col-sm-10">
                                        <div class="progress">
                                            <div class="progress-bar" role="progressbar" style="width: {{ expression.$uploadFile.percent }}%;">
                                                {{ expression.$uploadFile.percent }}%
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-2">
                                        <span ng-show="expression.$uploadFile.percent == 100">
                                            Uploaded <i class="fa fa-check"></i>	
                                        </span>
                                        <span ng-show="expression.$uploadFile.percent < 100">
                                            Uploading... <i class="fa fa-spin fa-refresh"></i>
                                        </span>
                                    </div>
                                </div>

                                <form name="expression.$form" novalidate>
                                    <!-- Type (Line drawing, photograph) -->
                                    <div class="form-group">
                                        <label class="control-label" style="display:block;">Type</label>
                                        <label class="radio-inline">
                                            <input type="radio" value="{{ Uris.QA_ARTICLE_TYPE }}" ng-model="expression[Uris.RDF_TYPE]">Article
                                        </label>
                                        <!-- <label class="radio-inline">
                                            <input type="radio" id="inlineCheckbox2" value="{{ Uris.QA_INTERVIEW_TYPE }}" ng-model="expression[Uris.RDF_TYPE]" disabled >Interview
                                        </label> -->
                                    </div>

                                    <div ng-show="expression[Uris.RDF_TYPE] == Uris.QA_ARTICLE_TYPE">
                                        <!-- Title -->

                                        <div class="form-group">
                                            <label for="" class="control-label">Article</label>
                                            <input name="title" type="text" class="form-control" ng-model="expression[Uris.DCT_TITLE]" placeholder="What is this document about?" required/>
                                        </div>

                                        <div class="form-group">
                                            <label>Author(s)</label>
                                            <input type="text" class="form-control" placeholder="Authors" ng-model="expression.$article[Uris.QA_AUTHORS]" />
                                        </div>

                                        <div class="form-group">
                                            <label for="">Periodical Title</label>
                                            <input type="text" class="form-control" placeholder="Periodical Title" ng-model="expression.$article[Uris.QA_PERIODICAL_TITLE]">
                                        </div>

                                        <div class="form-group">
                                            <label for="">Volume</label>
                                            <input type="text" class="form-control" placeholder="Volume" ng-model="expression.$article[Uris.QA_VOLUME]">
                                        </div>

                                        <div class="form-group">
                                            <label for="">Issue</label>
                                            <input type="text" class="form-control" placeholder="Issue" ng-model="expression.$article[Uris.QA_ISSUE]">
                                        </div>

                                        <div class="form-group">
                                            <label for="">Publication Date</label>
                                            <input type="text" class="form-control" placeholder="Publication Date" ng-model="expression.$article[Uris.QA_DATE_PUBLISHED]">
                                        </div>

                                        <div class="form-group">
                                            <label for="">Pages</label>
                                            <input type="text" class="form-control" placeholder="Pages" ng-model="expression.$article[Uris.QA_PAGES]">
                                        </div>
                                    </div>

                                    <div ng-show="expression[Uris.RDF_TYPE] == Uris.QA_INTERVIEW_TYPE">
                                        <div class="form-group">
                                            <label for="" class="control-label">Article</label>
                                            <input name="title" type="text" class="form-control" ng-model="expression[Uris.DCT_TITLE]" placeholder="What is this document about?" required/>
                                        </div>
                                    </div>






                                    <!-- Description -->
                                    <div class="form-group">
                                        <label>Description</label>
                                        <textarea placeholder="Describe this item" ng-model="expression[Uris.DCT_DESCRIPTION]" class="form-control"></textarea>
                                    </div>

                                    <!-- Creator -->
                                    <div class="form-group" class="form-group">
                                        <label>Creator</label>
                                        <div class="radio">
                                            <label>
                                                <input name="creator" type="radio" ng-model="expression.$creator" value="creator" ng-change="expression[Uris.DCT_CREATOR] = Auth.email; expression[Uris.DCT_RIGHTS] = Auth.email; expression.$rights = 'owner'" required>I am the creator
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input name="creator" type="radio" ng-model="expression.$creator" value="other" ng-change="expression[Uris.DCT_CREATOR] = ''" required>Other
                                            </label>
                                        </div>
                                        <input type="text" placeholder="Who created this item?" ng-model="expression[Uris.DCT_CREATOR]" class="form-control" ng-show="expression.$creator === 'other'">
                                    </div>

                                    <!-- Created Date -->
                                    <div class="form-group">
                                        <label>Created Date</label>
                                        <input type="text" placeholder="When was this created?" ng-model="expression[Uris.DCT_CREATED]" class="form-control">
                                    </div>

                                    <!-- Rights -->
                                    <div class="form-group">
                                        <label>Rights</label>
                                        <div class="radio">
                                            <label>
                                                <input name="rights" type="radio" value="owner" ng-model="expression.$rights" ng-change="expression[Uris.DCT_RIGHTS] = Auth.email;" required>I own the rights
                                            </label>
                                        </div>
                                        <div class="radio">
                                            <label>
                                                <input name="rights" type="radio" value="permission" ng-model="expression.$rights" ng-change="expression[Uris.DCT_RIGHTS] = ''; expression.$permissionFrom = ''" required>I have permission
                                            </label>
                                        </div>
                                        <input type="text" placeholder="Who owns the rights to this item?" ng-model="expression.$permissionFrom" class="form-control" ng-show="expression.$rights == 'permission'" ng-change="expression[Uris.DCT_RIGHTS] = Auth.email + ' with permission from ' + expression.$permissionFrom">

                                        <div class="radio">
                                            <label>
                                                <input type="radio" value="orphaned" ng-model="expression.$rights" ng-change="expression[Uris.DCT_RIGHTS] = 'Orphaned'">It is orphaned
                                            </label>
                                        </div>

                                        <div class="radio">
                                            <label>
                                                <input type="radio" value="other" ng-model="expression.$rights" ng-change="expression[Uris.DCT_RIGHTS] = ''" required name="rights">Other
                                            </label>
                                        </div>
                                        <input type="text" placeholder="Who owns the rights to this item?" ng-model="expression[Uris.DCT_RIGHTS]" class="form-control" ng-show="expression.$rights == 'other'">
                                    </div>

                                    <!-- External Identifier -->
                                    <div class="form-group">
                                        <label>External Identifier</label>
                                        <input type="text" placeholder="Does this item have an external identifier?" ng-model="expression[Uris.DCT_IDENTIFIER]" class="form-control">
                                    </div>

                                    <div ng-hide="expression.uri">
                                        <button class="btn btn-primary" ng-click="publish(expression)" ng-disabled="expression.$form.$invalid">Publish</button>

                                        <button class="btn btn-default" ng-click="cancelUpload(expression)">Cancel</button>
                                    </div>
                                    <div ng-show="expression.uri">
                                        <button disabled class="btn btn-primary"><i class="fa fa-check"></i> Published</button>
                                    </div>
                                    <!--<div class="form-group">
						        				<label class="control-label">Project</label>
						        				<div 
													ui-select2="structureSelect" 
													ng-model="expression.$depicts" 
													class="form-control">
												</div>
						        			</div>-->
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
