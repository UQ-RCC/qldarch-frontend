<editor-tools entity="other" state="other"></editor-tools>
<div class="l-frame l-frame-tight">
  <div class="container">
    <div class="row" ng-hide="$state.includes('other.summary.edit')">
      <div class="col-sm-12">
        <h5>Type</h5>
        <p>{{ other.type }}</p>
        <h5>Summary</h5>
        <p style="white-space: pre-wrap;" ng-bind-html="other.summary"></p>
        <p class="text-muted" ng-show="!other.summary.length">No summary</p>
      </div>
    </div>
    <div class="row" ng-show="$state.includes('other.summary.edit')">
      <div class="col-md-12">
        <form ng-submit="updateOther(other)" name="form">
          <div>
            <div class="form-group" ng-hide="other.type">
              <label>Type <i class="fa fa-asterisk fa-asterisk-required"></i></label>
              <div ui-select2="typeSelect" ng-model="other.$type" class="form-control"></div>
            </div>
            <div class="form-group" ng-if="other.$type.id!=='person'">
              <label>Name <i class="fa fa-asterisk fa-asterisk-required"></i></label> 
              <input type="text" ng-model="other.label" class="form-control" placeholder="Name" required>
            </div>
            <div class="form-group" ng-if="other.$type.id==='person'">
              <label>First Name <i class="fa fa-asterisk fa-asterisk-required"></i></label> 
              <input type="text" ng-model="other.firstname" class="form-control" placeholder="First Name" required>
              <label>Last Name</label>
              <input type="text" ng-model="other.lastname" class="form-control" placeholder="Last Name">
            </div>
            <div class="form-group">
              <label for="summary">Summary</label>
              <textarea ui-tinymce="tinymceOptions" rows="10" id="summary" class="form-control" placeholder="Summary" ng-model="other.summary"></textarea>
            </div>
            <button type="submit" class="btn btn-primary" ng-disabled="form.$invalid">Save</button>
            <button type="button" class="btn btn-default" ng-click="cancel()">Cancel</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>